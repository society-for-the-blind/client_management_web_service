{% extends 'lynx/base.html' %}

{% block title %}
  {% if request.GET.print %}
    <h1>{{ object.authorization.contact.first_name }} {{ object.authorization.contact.last_name }} Progress Report for {{ object.month }} {{object.year}}</h1>
  {% endif %}
{% endblock %}

{% block content %}

{% if not request.GET.print %}<h1>{{ object.authorization.contact.first_name }} {{ object.authorization.contact.last_name }} Progress Report for {{ object.month }} {{ object.year }}</h1>{% endif %}}
<h2>Client Information</h2>
<input type="button" onclick="location.href='/lynx/authorization/{{ object.authorization_id }}';" value="Return to Authorization" /> <input type="button" onclick="location.href='/lynx/client/{{ object.authorization.contact.id}}';" value="Return to Client" />
<p class="tab"><strong>Client:</strong> {{ object.authorization.contact.first_name }} {{ object.authorization.contact.last_name }}</p>
<p class="tab"><strong>Counselor:</strong> {{ object.authorization.outside_agency }}</p>
<p class="tab"><strong>Instructor:</strong> {{ object.instructor }}</p>

<h2>Authorization Information</h2>
<p class="tab"><strong>Authorization Number:</strong> {{ object.authorization.authorization_number }}</p>
<p class="tab"><strong>Hours Used for Authorization:</strong> {{ total_hours }}</p>
<p class="tab"><strong>Hours Remaining:</strong> {{ remaining_hours }}</p>
<p class="tab"><strong>Total Hours:</strong> {{ total_time }}</p>
<p class="tab"><strong>Hours Used this Month:</strong> {{ month_used }}</p> <!--TODO add hours used-->
<p class="tab"><strong>Start Date:</strong> {{ object.authorization.start_date|date:'F j, Y' }}</p>
<p class="tab"><strong>End Date:</strong> {{ object.authorization.end_date|date:'F j, Y' }}</p>

<h2>Report</h2>
<p class="tab"><strong>Client Accomplishments:</strong> {{ object.accomplishments }}</p>
<p class="tab"><strong>Remaining Short Term Objectives:</strong> {{ object.short_term_goals }}</p>
<p class="tab"><strong>Remaining Long Term Objectives:</strong> {{ object.long_term_goals }}</p>
<p class="tab"><strong>Estimated number of Hours needed for completion of objectives:</strong> Long Term - {{ object.long_term_goals_time }}. </p><p>Short Term - {{ object.short_term_goals_time }}</p>
<p class="tab"><strong>The client's attendance, attitude, and motivation during current month:</strong> {{ object.client_behavior }}</p>
<p class="tab"><strong>Additional comments:</strong> {{ object.notes }}</p>

{% if not request.GET.print %}
<form>
  <button class="btn btn-success" formaction="/lynx/progress-report/{{ object.id }}/?print=true">Print View </button>
</form>
{% endif %}
{% endblock %}