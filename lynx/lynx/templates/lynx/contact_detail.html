{% extends 'lynx/base.html' %}

{% block content %}

<h1>{{ object.first_name }} {{ object.last_name }}</h1>
<h2>Client Information</h2>
<p class="tab"><strong>Name:</strong> {{ object.first_name }} {% if object.middle_name %}{{ object.middle_name }} {% endif %}{{ object.last_name }}</p>
{% if object.company %}<p class="tab"><strong>Company:</strong> {{ object.company }}</p>{% endif %}
{% if object.deceased %}<p class="tab"><strong>Deceased</strong></p>{% endif %}
{% if object.donor %}<p class="tab"><strong>Donor</strong></p>{% endif %}
<p class="tab"><a href="/lynx/contact-edit/{{ object.id }}">Edit Client Information</a></p>

{% for address in address_list %}
    {% if not address.bad_address and address.address_one %}
        <p class="tab">
            <strong>Address:</strong><br>
            {{ address.address_one }}<br>
            {% if address.address_two %}{{ address.address_two }}<br>{% endif %}
            {% if address.suite %}Suite {{ address.suite }}<br>{% endif %}
            {{ address.city }}, {{ address.state }} {{ address.zip_code }}<br>
            {{ address.country }}<br>
            <a href="/lynx/address-edit/{{ address.id }}">(Edit)</a>
        </p>
        {% if address.region %}<p class="tab"><strong>Region:</strong> {{ address.region }}</p>{% endif %}
        {% if address.cross_streets %}<p class="tab"><strong>Cross Streets:</strong> {{ address.cross_streets }}</p>{% endif %}
        {% if address.preferred_medium %}<p class="tab"><strong>Preferred Mailing Medium:</strong> {{ address.preferred_medium }}</p>{% endif %}
        {% if address.address_notes %}<p class="tab"><strong>Notes:</strong> {{ address.address_notes }}</p>{% endif %}
    {% endif %}
{% empty %}
    <p class="tab">Sorry, no associated addresses for this client</p>
{% endfor %}


{% for phone in phone_list %}
    {% if phone.active %}
        <p class="tab">
            <strong>{{ phone.phone_type }} Phone Number:</strong> {{ phone.phone }} <a href="/lynx/phone-edit/{{ phone.id }}">(Edit)</a>
        </p>
    {% endif %}
{% empty %}
    <p class="tab">Sorry, no associated phone numbers for this client</p>
{% endfor %}


{% for email in email_list %}
    {% if email.active %}
        <p class="tab">
            <strong>{{ email.email_type }} Email Address:</strong> {{ email.email }} <a href="/lynx/email-edit/{{ email.id }}">(Edit)</a>
        </p>
    {% endif %}
{% empty %}
    <p class="tab">Sorry, no associated emails for this client</p>
{% endfor %}
<input type="button" onclick="location.href='/lynx/add-address/{{ object.id }}/';" value="Add Address" />
<input type="button" onclick="location.href='/lynx/add-phone/{{ object.id }}/';" value="Add Phone Number" />
<input type="button" onclick="location.href='/lynx/add-email/{{ object.id }}/';" value="Add Email" />

<h2>Intake Information</h2>
{% for intake in intake_list %}
    <p class="tab"><strong>Intake Date:</strong> <a href="/lynx/intake-edit/{{ intake.id }}">(Edit)</a></p>
<!--    {% if intake.intake_date %}<p class="tab"><strong>Intake Date:</strong> {{ intake.intake_date }}</p>{% endif %}-->
<!--    {% if intake.intake_type %}<p class="tab"><strong>Intake Type:</strong> {{ intake.intake_type }}</p>{% endif %}-->
    <h3>Demographics</h3>
        {% if intake.gender %}<p class="tab"><strong>Gender:</strong> {{ intake.gender }}</p>{% endif %}
        {% if intake.pronouns %}<p class="tab"><strong>Pronouns:</strong> {{ intake.pronouns }}</p>{% endif %}
        {% if intake.birth_date %}<p class="tab"><strong>Birth Date:</strong> {{ intake.birth_date }}</p>{% endif %}
        {% if intake.ethnicity %}<p class="tab"><strong>Ethnicity:</strong> {{ intake.ethnicity }}{% if intake.other_ethnicity %}, {{ intake.other_ethnicity }}{% endif %}</p>{% endif %}
        {% if intake.income %}<p class="tab"><strong>Income:</strong> {{ intake.income }}</p>{% endif %}
        {% if intake.first_language %}<p class="tab"><strong>First Language:</strong> {{ intake.first_language }}</p>{% endif %}
        {% if intake.second_language %}<p class="tab"><strong>Second Language:</strong> {{ intake.second_language }}</p>{% endif %}
        {% if intake.other_languages %}<p class="tab"><strong>Other Languages:</strong> {{ intake.other_languages }}</p>{% endif %}
        {% if intake.education %}<p class="tab"><strong>Education:</strong> {{ intake.education }}</p>{% endif %}
        {% if intake.work_history %}<p class="tab"><strong>Work History:</strong> {{ intake.work_history }}</p>{% endif %}
        {% if intake.living_arrangement %}<p class="tab"><strong>Living Arrangements:</strong> {{ intake.living_arrangement }}</p>{% endif %}
        {% if intake.residence_type %}<p class="tab"><strong>Residence Types:</strong> {{ intake.residence_type }}</p>{% endif %}
        {% if intake.performs_tasks %}<p class="tab"><strong>Performs Tasks:</strong> {{ intake.performs_tasks }}</p>{% endif %}
        {% if intake.notes %}<p class="tab"><strong>Notes:</strong> {{ intake.notes }}</p>{% endif %}
        {% if intake.veteran %}<p class="tab"><strong>Veteran:</strong> {{ intake.veteran }}</p>{% endif %}
    <h3>Ocular Medical History</h3>
        {% if intake.eye_condition %}<p class="tab"><strong>Eye Condition:</strong> {{ intake.eye_condition }} ({{ intake.eye_condition_date }})</p>{% endif %}
        {% if intake.degree %}<p class="tab"><strong>Degree:</strong> {{ intake.degree }}</p>{% endif %}
        {% if intake.prognosis %}<p class="tab"><strong>Prognosis:</strong> {{ intake.prognosis }}</p>{% endif %}
    <h3>Other Medical History</h3>
        <p class="tab">
            {% if intake.diabetes %}Diabetes, {% endif %}
            {% if intake.dialysis %}Dialysis, {% endif %}
            {% if intake.hearing_loss %}Hearing Loss, {% endif %}
            {% if intake.mobility %}Mobility, {% endif %}
            {% if intake.stroke %}Stroke, {% endif %}
            {% if intake.seizure %}Seizure, {% endif %}
            {% if intake.alzheimers %}Alzheimerâ€™s Disease/Cognitive Impairment, {% endif %}
            {% if intake.musculoskeletal %}Musculoskeletal Disorders, {% endif %}
            {% if intake.heart %}Cardiovascular Disease, {% endif %}
            {% if intake.high_bp %}High BP, {% endif %}
            {% if intake.neuropathy %}Neuropathy, {% endif %}
            {% if intake.pain %}Pain, {% endif %}
            {% if intake.asthma %}Asthma, {% endif %}
            {% if intake.cancer %}Cancer, {% endif %}
            {% if intake.substance_abuse %}Substance Abuse, {% endif %}
            {% if intake.memory_loss %}Memory Loss, {% endif %}
            {% if intake.learning_disability %}Learning Disability{% endif %}
        </p>
        {% if intake.allergies %}<p class="tab"><strong>Allergies:</strong> {{ intake.allergies }}</p>{% endif %}
        {% if intake.mental_health %}<p class="tab"><strong>Mental Health:</strong> {{ intake.mental_health }}</p>{% endif %}
        {% if intake.medications %}<p class="tab"><strong>Medications:</strong> {{ intake.medications }}</p>{% endif %}
        {% if intake.other %}<p class="tab"><strong>Other:</strong> {{ intake.other }}</p>{% endif %}
        {% if intake.notes %}<p class="tab"><strong>Medical Notes:</strong> {{ intake.notes }}</p>{% endif %}
    <h3>Criminal Background</h3>
        {% if intake.crime %}<p class="tab"><strong>Criminal History:</strong> {{ intake.crime }}</p>{% endif %}
        {% if intake.crime_info %}<p class="tab"><strong>Criminal History Information:</strong> {{ intake.crime_info }}</p>{% endif %}
        {% if intake.crime_other %}<p class="tab"><strong>Criminal History (Other):</strong> {{ intake.crime_other }}</p>{% endif %}
        {% if intake.parole %}<p class="tab"><strong>Parole:</strong> {{ intake.parole }}</p>{% endif %}
        {% if intake.parole_info %}<p class="tab"><strong>Parole Information:</strong> {{ intake.parole_info }}</p>{% endif %}
        {% if intake.crime_history %}<p class="tab"><strong>Other Criminal Information:</strong> {{ intake.crime_history }}</p>{% endif %}
    <h3>Other Background</h3>
        {% if intake.previous_training %}<p class="tab"><strong>Previous Training:</strong> {{ intake.previous_training }}</p>{% endif %}
        {% if intake.training_goals %}<p class="tab"><strong>Training Goals:</strong> {{ intake.training_goals }}</p>{% endif %}
        {% if intake.training_preferences %}<p class="tab"><strong>Training Preferences:</strong> {{ intake.training_preferences }}</p>{% endif %}
        {% if intake.employment_goals %}<p class="tab"><strong>Employment Goals:</strong> {{ intake.employment_goals }}</p>{% endif %}
        {% if intake.hired %}<p class="tab"><strong>Has been hired since training</strong></p>{% endif %}
        {% if intake.hobbies %}<p class="tab"><strong>Hobbies/Interests:</strong> {{ intake.hobbies }}</p>{% endif %}
        {% if intake.other %}<p class="tab"><strong>Other Notes:</strong> {{ intake.other }}</p>{% endif %}
{% empty %}
    <p class="tab">Sorry, no intake information for this client</p>
{% endfor %}
<input type="button" onclick="location.href='/lynx/add-intake/{{ object.id }}/';" value="Add Intake Information" />

<!--<h2>Referral Information</h2>-->
<!--{% for referral in referral_list %}-->
<!--    {% if referral.source %}<p class="tab"><strong>Source:</strong> {{ referral.source }}</p>{% endif %}-->
<!--    {% if referral.name %}<p class="tab"><strong>Name:</strong> {{ referral.name }}</p>{% endif %}-->
<!--    {% if referral.referral_date %}<p class="tab"><strong>Referral Date:</strong> {{ referral.referral_date }}</p>{% endif %}-->
<!--{% empty %}-->
<!--    <p class="tab">Sorry, no referral information for this client</p>-->
<!--{% endfor %}-->

<h2>Emergency Contacts</h2>
{% for emergency in emergency_list %}
    <h3 class="tab">{{ emergency.name }}</h3>
    <p class="tab">
        <strong>Emergency Contact Address:</strong><br>
        {{ emergency.emergency_address_one }}<br>
        {% if emergency.emergency_address_two %}{{ emergency.emergency_address_two }}<br>{% endif %}
        {{ emergency.emergency_city }}, {{ emergency.emergency_state }} {{ emergency.emergency_zip_code }}<br>
        {{ emergency.emergency_country }}<br>
        <a href="/lynx/emergency-contact-edit/{{ emergency.id }}">(Edit)</a><br>
    </p>
    {% if emergency.phone_day %}<p class="tab"><strong>Emergency Contact Daytime Phone Number:</strong> {{ emergency.phone_day }}</p>{% endif %}
    {% if emergency.phone_other %}<p class="tab"><strong>Emergency Contact Other Phone Number:</strong> {{ emergency.phone_other }}</p>{% endif %}
{% empty %}
    <p class="tab">Sorry, no emergency contacts for this client</p>
{% endfor %}
<input type="button" onclick="location.href='/lynx/add-emergency/{{ object.id }}/';" value="Add Emergency Contact" />

{% if object.core_client %}
    <h2>Authorizations</h2>
    {% for auth in authorization_list %}
    <h3 class="tab"><a href='/lynx/authorization/{{ auth.id }}'>{{ auth.intake_service_area }}: {{ auth.start_date }}- {{ auth.end_date }}. {{ auth.authorization_number }}</a></h3>
        <p class="tab">
            {% if auth.intake_service_area %}<strong>Intake Service Area:</strong> {{ auth.intake_service_area }}<br>{% endif %}
            {% if auth.authorization_type %}<strong>Authorization Type:</strong> {{ auth.authorization_type }}<br>{% endif %}
            {% if auth.authorization_number %}<strong>Authorization Number:</strong> {{ auth.authorization_number }}<br>{% endif %}
            {% if auth.start_date %}<strong>Start Date:</strong> {{ auth.start_date }}<br>{% endif %}
            {% if auth.end_date %}<strong>End Date:</strong> {{ auth.end_date }}<br>{% endif %}
        </p>
    {% empty %}
        <p class="tab">Sorry, no authorizations for this client</p>
    {% endfor %}
    <input type="button" onclick="location.href='/lynx/add-authorization/{{ object.id }}/';" value="Add New Authorization" />
{% endif %}

{% if object.sip_client %}
    <h2>SIP Notes</h2>
    {% for sip in sip_list %}
        <h3 class="tab">{{ sip.note_date }}</h3>
            <p class="tab">{{ sip.created }}: {{ sip.note }}<br>
              -{{ sip.user.first_name }} {{ sip.user.last_name }} </p> <!-- TODO: add edit button-->
            <p class="tab"><strong>Services: </strong>{% if sip.vision_screening %}Vision screening/examination/low vision evaluation, {% endif %}{% if sip.treatment %}Surgical or therapeutic treatment, {% endif %}{% if sip.at_devices %}AT devices and aids, {% endif %}{% if sip.at_services %}AT Services, {% endif %}{% if sip.independent_living %}ILS, {% endif %}{% if sip.orientation %}O & M, {% endif %}{% if sip.communications %}Communication skills, {% endif %}{% if sip.dls %}DLS, {% endif %}{% if sip.support %}Support services, {% endif %}{% if sip.advocacy %}Advocacy, {% endif %}{% if sip.counseling %}Counseling, {% endif %}{% if sip.information %}I & R, {% endif %}{% if sip.services %}Other IL services{% endif %}</p>
            <p class="tab"><strong>Service Delivery: </strong>{% if sip.retreat %}Retreat, {% endif %}{% if sip.in_home %}In-home Training, {% endif %}{% if sip.seminar %}Training Seminar, {% endif %}{% if sip.modesto %}Modesto training site, {% endif %}{% if sip.group %}Support group(s), {% endif %}{% if sip.community %}Community Integration{% endif %}</p>
    {% empty %}
        <p class="tab">Sorry, no SIP Notes for this client</p>
    {% endfor %}
    <input type="button" onclick="location.href='/lynx/add-sip-note/{{ object.id }}/';" value="Add New SIP Note" />
{% endif %}

<h2>Notes</h2>
{% for note in note_list %}
    <p class="tab">{{ note.created }}: {{ note.note }}<br>
        -{{ note.user.first_name }} {{ note.user.last_name }} <a href="/lynx/intake-note-edit/{{ note.id }}">(Edit)</a></p>
{% endfor %}
    {% if object.contact_notes %}
        <p class="tab">{{ object.created }}: {{ object.contact_notes }}<br>
            -{{ user.first_name }} {{ user.last_name }} <a href="/lynx/intake-note-edit/{{ note.id }}">(Edit)</a></p>
    {% endif %}
<h3>New Note</h3>
<form action="/lynx/client/{{ object.id }}" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Submit">
</form>

{% endblock %}